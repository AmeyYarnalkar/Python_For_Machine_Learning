

#  Python File Handling — Phase 3 Notes


## CSV (Comma Separated Values)

### What It Is

* Flat, tabular format
* Stores rows and columns
* Everything stored as text
* No type information

Example:

```
name,age,score
Amey,22,90
Rohit,21,85
```

---

### Why Not Manually Split?

Bad idea:

```python
line.split(",")
```

Problem:

Fields can contain:

* Commas inside quotes
* Quotes
* Newlines

Example:

```
"Amey Yarnalkar",22,"ML, Advanced"
```

Manual splitting breaks structure.

---

### Proper Way — `csv` Module

```python
import csv

with open("students.csv", "r", encoding="utf-8") as f:
    reader = csv.reader(f)
    for row in reader:
        print(row)
```

### Output Type

Each `row` is:

```
list[str]
```

Even numbers come as strings.

---

### `csv.DictReader`

```python
import csv

with open("students.csv", "r", encoding="utf-8") as f:
    reader = csv.DictReader(f)
    for row in reader:
        print(row)
```

Each row:

```
dict[str, str]
```

Keys → column headers
Values → strings

Better readability. Safer for feature handling.

---

### Writing CSV

```python
import csv

with open("students.csv", "w", newline="", encoding="utf-8") as f:
    writer = csv.writer(f)
    writer.writerow(["Amey", 22, 90])
```

Important:

* Numbers automatically converted to string.
* CSV has **no type preservation**.

---

### CSV Characteristics

Compact for tabular data \
Efficient for large flat datasets \
No nested structure \
No type preservation 

Used heavily in ML datasets (often via pandas).

---

## JSON (JavaScript Object Notation)

### What It Is

* Structured
* Hierarchical
* Key-value based
* Human readable
* Preserves data types

Example:

```json
{
  "name": "Amey",
  "age": 22,
  "skills": ["Python", "ML"],
  "active": true
}
```

---

### Writing JSON (Serialization)

```python
import json

data = {"name": "Amey", "age": 22}

with open("data.json", "w", encoding="utf-8") as f:
    json.dump(data, f, indent=4)
```

---

### Reading JSON (Deserialization)

```python
import json

with open("data.json", "r", encoding="utf-8") as f:
    data = json.load(f)
```

---

### Type Mapping

JSON → Python:

* string → `str`
* number → `int` / `float`
* true → `True`
* false → `False`
* null → `None`
* array → `list`
* object → `dict`

Unlike CSV, JSON preserves types.

---

### `dump` vs `dumps`

* `json.dump()` → writes to file

* `json.dumps()` → returns JSON string

* `json.load()` → reads from file

* `json.loads()` → reads from string

Pattern:

* No “s” → file
* “s” → string

---

### JSON Characteristics

 Type preservation \
 Nested structures \
 Self-describing (keys included) \
 Repeats keys in large datasets \
 Less storage efficient for tabular data

Best for:

* ML configs
* Metadata
* API data
* Model parameters

---

## Pickle (Binary Serialization)

### What It Is

* Python-specific binary format
* Stores full Python object structure
* Not human readable

---

### Writing Pickle

```python
import pickle

data = {"a": [1, 2, 3]}

with open("data.pkl", "wb") as f:
    pickle.dump(data, f)
```

---

### Reading Pickle

```python
import pickle

with open("data.pkl", "rb") as f:
    data = pickle.load(f)
```

---

### Why Binary Mode?

Pickle stores raw bytes.

So:

* `"wb"` for writing
* `"rb"` for reading

No encoding involved.

---

### Pickle Characteristics

 Preserves exact Python objects
 Supports complex objects
 Efficient binary format
 Not human readable
 Python-specific
 Security risk

---

### ⚠ Security Warning

Unpickling untrusted data can:

* Execute arbitrary Python code
* Run malicious payloads

Rule:

> Never load pickle files from untrusted sources.

---

## Serialization vs Deserialization

### Serialization

Python object → storable format

Examples:

* `json.dump()`
* `pickle.dump()`

---

### Deserialization

Stored format → Python object

Examples:

* `json.load()`
* `pickle.load()`

---

## Format Comparison Summary

| Feature                    | CSV | JSON | Pickle |
| -------------------------- | --- | ---- | ------ |
| Human readable             | ✔   | ✔    | ❌      |
| Type preservation          | ❌   | ✔    | ✔      |
| Nested structure           | ❌   | ✔    | ✔      |
| Efficient for large tables | ✔   | ❌    | ✔      |
| Safe from untrusted source | ✔   | ✔    | ❌      |
| Python specific            | ❌   | ❌    | ✔      |

---

