#  What is a Function?

A function is:

> A reusable block of logic that takes input, performs an operation, and optionally returns output.

### Why We Use Functions

* Avoid repetition
* Organize logic
* Improve readability
* Enable reusability
* Maintain separation of concerns
* Improve maintainability

---

#  Defining & Calling Functions

### Basic Syntax

```python
def greet():
    print("Hello")
```

* `def` → defines function
* `greet` → name
* `()` → parameters
* `:` → start of block
* Indentation → function body

### Calling a Function

```python
greet()
```

⚠ Defining ≠ Executing
Function runs only when called.

---

#  Functions Are First-Class Objects

In Python, functions are objects.

That means you can:

* Assign to variables
* Pass as arguments
* Return from other functions
* Store in data structures

Example:

```python
def add(a, b):
    return a + b

x = add
```

`x` now references the same function object.

---

#  Scope & Execution Model

## Local Scope

Variables inside function.

## Global Scope

Variables outside functions.

## LEGB Rule

Python searches variables in this order:

1. Local
2. Enclosing
3. Global
4. Built-in

---

## Variable Shadowing

```python
name = "Global"

def test():
    name = "Local"
    print(name)
```

Local overrides global inside function.

---

## `global` Keyword

```python
global name
```

Tells Python to modify global variable.

⚠ Avoid using `global` frequently.
It breaks modularity and clean design.

---

#  Function Execution

When a function is called:

1. A new stack frame is created
2. Parameters are assigned
3. Code executes
4. Frame is destroyed after return

If no `return` is written:

```python
return None
```

is automatic.

---

#  Return vs Print

### `print()`

* Displays output
* Not reusable in program logic

### `return`

* Sends value back to caller
* Allows reuse
* Essential for clean design

Bad:

```python
def add(a, b):
    print(a + b)
```

Good:

```python
def add(a, b):
    return a + b
```

---

#  Parameters

## Positional Parameters

```python
def add(a, b):
```

## Default Parameters

```python
def greet(name="Guest"):
```

Default used only if no argument passed.

---

## `*args`

Collects extra positional arguments into a tuple.

```python
def add(*numbers):
```

Inside:

```
numbers = (1, 2, 3)
```

---

## `**kwargs`

Collects keyword arguments into dictionary.

```python
def info(**data):
```

Inside:

```
data = {"name": "Amey"}
```

---

## Parameter Order Rule

Correct order:

```python
def func(a, b, *args, **kwargs):
```

After `*args`, parameters become keyword-only.

---

#  Lambda Functions

Anonymous, single-expression functions.

```python
square = lambda x: x * x
```

Limitations:

* Only one expression
* Implicit return
* No statements allowed

Used for small, inline operations.

---

#  Function Annotations (Type Hints)

```python
def add(a: int, b: int) -> int:
```

Stored in:

```python
add.__annotations__
```

Example:

```python
{
    'a': int,
    'b': int,
    'return': int
}
```

Important:

* Not enforced at runtime
* Used for tooling and static analysis

---

#  Internal Structure of a Function

When Python executes `def`:

1. Compiles function body to bytecode
2. Creates function object
3. Stores metadata
4. Binds function to name

Function object contains:

* `__name__`
* `__code__`
* `__defaults__`
* `__annotations__`
* Reference to global namespace

Functions live in memory like any object.

Deletion:

```python
del add
```

Object removed only if no references remain.

---

